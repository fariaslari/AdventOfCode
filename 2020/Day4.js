let rawInput = "hcl:#6b5442 ecl:brn iyr:2019\r\npid:637485594 hgt:171cm\r\neyr:2021 byr:1986\n\neyr:2025 iyr:1938 byr:2014 hcl:#341e13\r\nhgt:66cm\r\npid:70195175\n\nhcl:#efcc98\r\niyr:2011 ecl:hzl\r\neyr:2020 hgt:174cm pid:589700330\n\nhcl:#bba027 eyr:2027 cid:54\r\necl:brn pid:153cm\r\niyr:2028 hgt:173cm\r\nbyr:2004\n\nhcl:b45cec\r\niyr:2011 ecl:oth hgt:185cm eyr:2029 pid:178cm\n\nhgt:185cm iyr:2016 eyr:2029 hcl:#888785 pid:026540921\n\neyr:2025\r\nhcl:6962f7 byr:2015 ecl:oth iyr:1974\r\nhgt:191cm\r\npid:2616015\n\npid:268398556 iyr:2019 ecl:grn\r\neyr:2027 byr:1951 hcl:#18171d hgt:67cm\n\neyr:2029 hgt:153cm ecl:brn pid:183179186 byr:2013 hcl:#623a2f\r\niyr:1957\n\ncid:121 iyr:1922 hcl:752fbc pid:79577560 byr:2025\r\nhgt:61cm eyr:1971\n\niyr:2016\r\neyr:2024 hcl:#18171d hgt:184cm\r\necl:hzl byr:1992 pid:751161201\n\neyr:2021 ecl:blu byr:1938 iyr:2016 hcl:#b6652a pid:313406514 hgt:191cm\n\nhcl:#623a2f eyr:2021\r\necl:brn\r\npid:145249653 hgt:167cm iyr:2019 byr:1991\n\niyr:2022 pid:175cm\r\nbyr:2021 eyr:2027 ecl:#f615b1\r\nhgt:172in hcl:#ceb3a1\n\nhgt:173in\r\necl:#0cba5e pid:1885981567 iyr:1968\r\nbyr:1952\r\neyr:1942\n\necl:oth eyr:2023 hgt:65cm pid:521737908 byr:1971 hcl:z iyr:2017\n\nbyr:1936\r\nhcl:#cfa07d\r\necl:brn iyr:2011 pid:589047874\r\neyr:2025\n\nhcl:#fffffd\r\npid:912552538\r\ncid:159 hgt:160cm iyr:2012\r\neyr:2023 ecl:hzl\r\nbyr:1946\n\niyr:2015\r\necl:amb hgt:72in\r\ncid:59 pid:782818257 hcl:#18171d eyr:2026\r\nbyr:1952\n\nhgt:173cm iyr:2018 cid:96 ecl:amb byr:1986 pid:783160698 eyr:2026\r\nhcl:#602927\n\nhcl:#a97842 cid:199 pid:912273414 eyr:2030\r\nhgt:171cm ecl:hzl iyr:2011 byr:1960\n\necl:amb hgt:156cm\r\niyr:2013\r\nhcl:#ceb3a1\r\ncid:116 pid:567057004 byr:1942\r\neyr:2029\n\necl:#cddc40\r\npid:045090966 cid:254\r\nhgt:75in hcl:#733820 eyr:2026 byr:1956\r\niyr:2015\n\npid:156cm\r\neyr:2040\r\nhgt:176cm ecl:#02e67d hcl:b7c0e6\r\niyr:1959 cid:129 byr:2022\n\nhgt:160cm byr:1933\r\necl:blu eyr:2029 iyr:2012 hcl:#888785 pid:028571975\n\niyr:2017\r\nhcl:#390f37 hgt:171cm ecl:brn byr:1931 pid:015365720 eyr:2030\n\niyr:2014 pid:697057757\r\neyr:2026 hgt:188cm\r\necl:gry byr:1926\n\npid:484310015 hcl:#fffffd hgt:150cm iyr:2018\r\ncid:53 ecl:gry eyr:2021 byr:1957\n\nhgt:156cm\r\neyr:2026 byr:1963\r\npid:063272603 ecl:brn iyr:2011\r\nhcl:#888785\n\nbyr:1955 pid:310518398 hgt:191cm iyr:2018\r\necl:oth eyr:2023 cid:132 hcl:#888785\n\nbyr:1938 hcl:#623a2f eyr:2023\r\niyr:2010\r\nhgt:165cm\r\npid:170304863\r\ncid:290 ecl:amb\n\neyr:2026\r\npid:021468065 hgt:164cm\r\nbyr:1996 iyr:2016 hcl:#18171d\r\necl:brn\n\nbyr:2027 ecl:oth pid:8258823391 hgt:153in hcl:#733820 eyr:1948\n\nbyr:2026 ecl:#cd275a iyr:2012 eyr:2036 pid:5917499975\n\nbyr:2004\r\ncid:151\r\nhcl:99ecb1\r\neyr:2033 pid:871137711 iyr:1997\r\nhgt:184cm ecl:oth\n\nbyr:2011\r\nhcl:z ecl:#eee1d2 hgt:59cm eyr:1925 iyr:2030 pid:#02ee78\n\npid:742658992\r\nhcl:#888785\r\nbyr:1995\r\neyr:2024 hgt:162cm iyr:2013 cid:169 ecl:gry\n\nhgt:152cm byr:1946\r\neyr:2027 iyr:2018\r\npid:352799678\r\nhcl:#238da0\r\necl:amb\r\ncid:71\n\nhcl:#623a2f pid:723616064 eyr:2021\r\nhgt:172cm\r\nbyr:1926 iyr:2013\r\necl:grn\n\niyr:2019 hgt:94 byr:2028 eyr:1986\r\npid:#ee7f00\n\necl:amb\r\neyr:2027 pid:188153423 byr:1957 hcl:#d67ae1\r\niyr:2011 hgt:183cm\n\nbyr:1950 ecl:#e2495d iyr:2010 hgt:166cm eyr:2034 pid:151457075\n\neyr:1981\r\nbyr:2016 iyr:2029 pid:153cm ecl:#55c2a4 hcl:z\r\nhgt:76cm\n\nhgt:184cm ecl:amb eyr:2021\r\nhcl:#623a2f\r\npid:414607669 iyr:1960 byr:2002\n\neyr:2027 iyr:2020 hgt:179cm byr:1991\r\npid:969568248\r\necl:blu\n\nhgt:175cm pid:536803427 hcl:#a97842 iyr:2012\r\necl:grn byr:1950 eyr:2027\n\neyr:2028 hgt:60in hcl:#733820 iyr:2018 ecl:oth pid:871909483\r\nbyr:1930\n\nhgt:155cm iyr:2020 byr:1960 eyr:2021\r\npid:515710074 ecl:amb hcl:#341e13\n\nbyr:1922 hcl:z iyr:1977 ecl:brn\r\neyr:2023 hgt:119 pid:865700639\n\necl:gry hcl:959fcd pid:#633ac1\r\nbyr:2011 hgt:68in\r\neyr:2020\n\niyr:1972 hcl:z cid:149 byr:2020\r\nhgt:166in pid:4548657 eyr:1960\r\necl:#cc987c\n\neyr:2023 hcl:#b6652a iyr:2015\r\nhgt:187in pid:547953710 byr:1979 ecl:grn\n\niyr:2018\r\npid:508691429 ecl:oth eyr:2025 hgt:187cm cid:270\r\nhcl:#888785 byr:1977\n\nhgt:168cm eyr:2032 byr:2020\r\necl:gry iyr:1982\r\nhcl:z pid:648015564\n\nhcl:#fffffd pid:911858643 iyr:2016 ecl:gry eyr:2030 byr:1992 hgt:156cm\n\npid:241562994 eyr:2026 ecl:grn hgt:164cm\r\nhcl:#c0946f byr:1945 iyr:2015 cid:296\n\nbyr:1976 pid:269322775 ecl:hzl\r\nhgt:162cm hcl:#b6652a\r\neyr:2022 cid:335 iyr:2012\n\neyr:2028\r\nhgt:106\r\npid:268626219 hcl:#a97842\r\niyr:2011\r\necl:grn byr:1967\n\niyr:2016 hcl:#888785 hgt:193cm ecl:oth\r\npid:034099334 eyr:2027\r\nbyr:1945\r\ncid:181\n\npid:248319556 byr:1987 iyr:2010 cid:122 ecl:utc\r\nhcl:z hgt:190cm eyr:2030\n\niyr:2019 hcl:#ceb3a1\r\necl:hzl\r\ncid:281 hgt:73in byr:1992\r\neyr:2023\n\nhcl:#fffffd\r\necl:blu cid:340 hgt:176cm byr:1980 pid:809878309 iyr:2018\n\nhgt:167cm hcl:#866857 byr:1973 cid:143 eyr:2030 iyr:2012\r\necl:hzl pid:168618514\n\nhcl:c97d76 iyr:2016 pid:8439355994 byr:2013 eyr:2036 hgt:71cm\r\ncid:116 ecl:#055b62\n\nhcl:#341e13 pid:961548527 eyr:2027 hgt:192cm byr:1940 iyr:2011 ecl:oth\n\nbyr:1935 hgt:189cm ecl:brn iyr:2012\r\neyr:2028 hcl:#602927\n\nbyr:2024\r\neyr:1939 iyr:2020 hgt:140 pid:889951037\r\nhcl:#b6652a ecl:blu\n\necl:amb byr:1942\r\niyr:2012 pid:161703003 hgt:181cm\r\neyr:2027 hcl:#602927\n\nhcl:#18171d\r\niyr:2015 byr:1935\r\ncid:204\r\necl:gry\r\nhgt:180cm eyr:2025 pid:988699528\n\neyr:2025 byr:1985\r\ncid:192\r\nhcl:#866857 hgt:150cm pid:315179208 iyr:2010 ecl:blu\n\nhcl:#341e13 iyr:2013 eyr:2021 cid:62\r\nbyr:1928\r\nhgt:168cm pid:862861470 ecl:hzl\n\npid:099158408\r\necl:grn\r\neyr:2026 iyr:2018 hcl:#b6652a cid:81\r\nhgt:185cm byr:1964\n\nbyr:1990 hgt:155cm\r\necl:brn\r\neyr:2023\r\nhcl:#ceb3a1 iyr:2012\n\necl:brn\r\neyr:2026 cid:242 pid:658930205\r\nhgt:176cm byr:1990 iyr:2016 hcl:#d55f68\n\nhcl:#602927 pid:924899781\r\neyr:2024 byr:1964\r\niyr:2019\r\ncid:163\r\nhgt:181cm ecl:gry\n\neyr:2026 ecl:blu pid:8812414708 iyr:2017 hcl:#a97842 hgt:190cm\r\nbyr:1970\n\nhgt:152cm\r\npid:403682313 iyr:2019\r\nhcl:#ceb3a1 ecl:oth\r\neyr:2021 byr:1957\n\npid:23799214\r\nbyr:2030 hgt:66cm\r\niyr:2022\r\nhcl:z ecl:#c806fe eyr:2035\n\neyr:2022 hgt:177cm byr:1967 cid:194\r\npid:060293594\r\necl:brn\r\niyr:2016\r\nhcl:#cfa07d\n\nhgt:184cm hcl:#6b5442 eyr:2029\r\necl:oth iyr:2013 pid:26983291 byr:1965\r\ncid:147\n\npid:255519852 byr:1975 hgt:192cm\r\necl:lzr\r\niyr:2015 eyr:2030\r\nhcl:#623a2f\n\niyr:2010\r\necl:blu\r\nhcl:#881267 hgt:162cm pid:121130250 byr:1935 cid:57 eyr:2025\n\nhgt:189cm\r\nhcl:#a97842\r\niyr:2014 eyr:2024\r\necl:brn\r\npid:972960330\n\nhcl:#623a2f eyr:2026 hgt:193cm cid:87 byr:1982 iyr:2020 pid:158154062 ecl:amb\n\neyr:2025 hgt:191cm\r\necl:amb\r\nhcl:#341e13\r\npid:137048981 iyr:2016 byr:1950\n\nbyr:1930 eyr:2029 ecl:hzl hgt:75in\r\npid:464272185 cid:341\r\niyr:2012 hcl:#c0946f\n\necl:brn\r\npid:952709301 byr:1926 hcl:#c0946f\r\neyr:2028\r\nhgt:170cm\n\npid:578940518 byr:2025 hgt:190in\r\niyr:2030 cid:52 ecl:amb eyr:2027\n\necl:amb hgt:185cm cid:237 iyr:2016 pid:490377510 byr:1950 hcl:#18171d\r\neyr:2025\n\niyr:2014 hgt:156in pid:65952131\r\necl:blu byr:1938 hcl:#7d3b0c\r\neyr:2023\n\necl:gry iyr:2016 pid:818347623 hcl:#888785 eyr:2030 hgt:174cm\n\necl:hzl\r\nhcl:#866857\r\neyr:2027\r\npid:213124752 hgt:179cm\r\nbyr:1989\n\npid:024846371 byr:1990 iyr:2018\r\neyr:2026 hgt:161cm ecl:oth\n\nhcl:z hgt:129 iyr:2016\r\neyr:2034\r\npid:#b85e75 byr:2026 ecl:oth\n\nhgt:192cm hcl:#602927 ecl:blu iyr:2011\r\npid:863613568 byr:1996 eyr:2027\n\nhgt:160cm cid:229 byr:1952\r\niyr:2019\r\necl:#0ae2d6 eyr:2027 pid:719697407 hcl:z\n\npid:040987502 cid:155 iyr:2012 hgt:173cm\r\nbyr:2002\r\nhcl:#fffffd eyr:2023 ecl:hzl\n\necl:oth byr:1993 iyr:2019 pid:319157251 hcl:#733820 hgt:70in eyr:2027\n\nhcl:#9d85d4\r\nhgt:192cm pid:570514935\r\ncid:238 eyr:2022 ecl:gry byr:1989\r\niyr:2016\n\nhgt:162cm\r\ncid:201 iyr:2015 eyr:2023 pid:553794028 byr:1922 ecl:amb hcl:#623a2f\n\ncid:56\r\neyr:2024 ecl:amb hgt:179cm hcl:#efcc98\r\npid:665225721\r\niyr:2012 byr:1963\n\nbyr:2026\r\nhcl:#888785\r\niyr:1972 eyr:1980 cid:323 pid:153cm\r\nhgt:170cm ecl:blu\n\npid:704204892 ecl:gry\r\neyr:2023\r\nbyr:1920 hgt:168cm iyr:2010 hcl:#3311ec\n\npid:#7f3caf eyr:2023\r\nhcl:z hgt:146 byr:1990 ecl:amb\r\niyr:2014 cid:270\n\nhgt:171cm ecl:blu pid:383695713\r\ncid:200 iyr:2010\r\nhcl:#602927 byr:1950 eyr:2024\n\nhgt:178cm byr:1935 hcl:#2da7db\r\npid:597509269\r\neyr:2020 iyr:2014\r\necl:blu\n\neyr:2034\r\necl:#d4719a\r\nhcl:z hgt:67cm iyr:2023 pid:#268d93 byr:2006\n\neyr:1939 pid:9942171839\r\nhgt:104\r\niyr:1945\r\nbyr:2011 ecl:#f9bafb hcl:#ceb3a1\n\nbyr:1937\r\niyr:2010 pid:979528684\r\neyr:2028 hcl:#ceb3a1 ecl:gry hgt:164cm\n\niyr:2019 eyr:2022 pid:044485658 hcl:#18171d byr:1996 hgt:169cm\r\necl:gry\n\npid:031482456\r\neyr:2024\r\niyr:2015\r\nhgt:157cm hcl:#7d3b0c byr:1921\r\necl:oth\n\npid:399398768\r\necl:lzr\r\nhcl:z\r\neyr:1983 hgt:68cm\r\nbyr:2024 iyr:2027 cid:127\n\nhgt:186cm eyr:2026 pid:140032921 ecl:amb cid:278\r\nbyr:1937 iyr:2015\n\nhgt:172cm\r\necl:amb pid:718725983 hcl:#6b5442 eyr:2024\r\niyr:2013 byr:1974\n\necl:amb iyr:2014 cid:216 hcl:#cfa07d\r\neyr:2022 pid:442275714 hgt:68in byr:1999\n\nhgt:152cm cid:193\r\niyr:2015 pid:806672342 hcl:#b6652a byr:1927 ecl:oth\n\nhcl:#7d3b0c byr:1925 iyr:2015 hgt:174cm pid:888044223 cid:168 ecl:oth eyr:2029\n\necl:gry byr:2009 hgt:156cm\r\nhcl:#888785 pid:263500722 iyr:2015 eyr:2021\n\ncid:103\r\nhcl:#ba8b89 ecl:hzl hgt:169cm\r\nbyr:1929 pid:626102979 iyr:2016 eyr:2028\n\niyr:2016 hgt:188cm cid:133\r\nbyr:1926 ecl:hzl eyr:2023 hcl:#602927 pid:678092780\n\necl:utc byr:2025 pid:#584dc1 eyr:2037\r\nhgt:151cm iyr:1950 hcl:#cfa07d\n\necl:oth hgt:140 eyr:1977 hcl:#6b5442 iyr:1955\r\nbyr:1999\r\npid:868434068\n\neyr:2029 hcl:#18171d cid:158 iyr:2016 hgt:166cm ecl:hzl\r\npid:100226690 byr:1942\n\necl:#806ce8\r\ncid:153 iyr:2024 byr:1985 hcl:da8a68\r\npid:#d9e5b0 eyr:2017\n\neyr:2020 hgt:164cm cid:222 ecl:hzl byr:1945 hcl:#cfa07d\r\niyr:2011\n\niyr:2018 hgt:165cm\r\npid:868536448 eyr:2026 byr:1930\r\necl:hzl hcl:#623a2f cid:128\n\necl:grn iyr:2012\r\ncid:326 byr:1950 hcl:#efcc98 eyr:2029 hgt:177cm pid:685629972\n\nbyr:2004 hgt:168cm\r\necl:dne iyr:2020 hcl:z\n\nbyr:1964 pid:132604237 ecl:oth hcl:#602927 hgt:188cm\r\ncid:78\r\niyr:2012 eyr:2025\n\nbyr:1945\r\niyr:2023 ecl:#1a590c hgt:70in\r\npid:186cm eyr:2031 hcl:z\n\ncid:178\r\necl:amb eyr:2024 hgt:162cm\r\nhcl:#18171d iyr:2016\r\nbyr:1945 pid:737813370\n\nhcl:#18171d\r\nbyr:1949\r\npid:064917719\r\nhgt:176cm ecl:amb\r\neyr:2034\r\niyr:1998\n\nhgt:72in\r\npid:711343766 hcl:#623a2f\r\niyr:2010 byr:1977 ecl:amb cid:177 eyr:2023\n\nbyr:1933 hgt:66 pid:22149379 eyr:2040\r\necl:#92d7a7 hcl:#cfa07d\n\niyr:2020 byr:1946 eyr:2020 ecl:hzl pid:153cm\r\nhgt:159cm cid:261 hcl:#888785\n\niyr:2013 byr:1931\r\necl:#2ced2e hcl:3c49c1 eyr:1950\r\nhgt:182cm cid:133 pid:#19fc55\n\nhcl:#a9abe6\r\niyr:2016\r\neyr:2029 ecl:hzl cid:343 pid:691253232 byr:1952 hgt:187cm\n\nhcl:z\r\neyr:1964\r\necl:#5995e6\r\nbyr:2021 hgt:72in pid:2103603035 iyr:1951\n\niyr:2024 hgt:151in byr:1988 ecl:blu\r\neyr:1961 cid:117\r\nhcl:z pid:5371118784\n\nhgt:71cm iyr:2021\r\neyr:2033 ecl:amb\r\nhcl:z cid:202\r\npid:207141921 byr:1987\n\necl:gry byr:1927 eyr:2024\r\nhgt:60in iyr:2014\r\npid:847799723 cid:285\r\nhcl:#733820\n\neyr:2022 hcl:#18171d\r\npid:847063261\r\nbyr:1926 ecl:grn\r\niyr:2011\n\npid:647225630 iyr:2016 hcl:#a97842 ecl:oth eyr:2025\r\ncid:144 hgt:182cm byr:1983\n\nhgt:150 byr:1924\r\neyr:2024 hcl:1600da\r\necl:brn\r\ncid:168 pid:656253964\n\nhgt:153in pid:644514788 byr:1956 hcl:#866857\r\niyr:2029\r\necl:utc\n\ncid:57 pid:755541617 byr:1961\r\niyr:2019\r\necl:grn\r\nhgt:169cm hcl:#efcc98 eyr:2029\n\niyr:2005\r\neyr:2040 hcl:8080a4 byr:2013 pid:145803668\n\niyr:2029\r\nhcl:z ecl:brn\r\nbyr:1948\r\nhgt:76cm pid:186cm eyr:2031\n\nhcl:#888785 ecl:grn byr:1983 cid:268 pid:402246959 iyr:2018\r\neyr:2020\n\nhgt:175cm eyr:2026 pid:594997236\r\nbyr:1991 hcl:#ceb3a1 iyr:2015 ecl:blu\n\nbyr:1989\r\neyr:2027\r\niyr:2020 hgt:192cm ecl:blu hcl:#cfa07d cid:61 pid:657979353\n\npid:#a043a3 iyr:2016 byr:1947\r\neyr:2031 hgt:191cm ecl:xry\n\neyr:2023 ecl:blu byr:1948 cid:128 hgt:74in\r\npid:966094274\r\niyr:2015\n\niyr:2020 ecl:zzz\r\neyr:1999 hcl:3cf716 byr:2017 cid:343 pid:60198759\r\nhgt:70cm\n\nhgt:182 pid:80897411 byr:2014 eyr:2033 iyr:1941 ecl:#9c54e8 cid:107\r\nhcl:z\n\niyr:2015 hcl:#866857 byr:1990 cid:167 pid:588340506 eyr:2030 hgt:168cm ecl:oth\n\nhcl:676aad hgt:151 cid:192 eyr:1930 ecl:oth byr:2012\r\npid:513365039\r\niyr:1943\n\ncid:119\r\necl:#921980 hgt:70cm\r\neyr:2024 hcl:4909ee pid:#13fe6c iyr:2022 byr:2014\n\neyr:2036 hcl:02fdbc hgt:155cm\r\niyr:1946\r\npid:508011940 ecl:utc byr:2025\n\npid:#f74bbe eyr:2028 hcl:#c0946f hgt:171cm ecl:#9077c0\r\nbyr:1951 iyr:2010\n\niyr:2017 hgt:125 hcl:#cfa07d pid:731062033 ecl:brn eyr:2028 cid:255 byr:2020\n\necl:xry eyr:2033 byr:1978\r\niyr:2012 hgt:70cm hcl:z\r\npid:272848084\n\necl:blu hgt:174cm\r\neyr:2030 byr:1999 hcl:#ceb3a1 iyr:2015\r\npid:322583115 cid:301\n\neyr:2007 byr:2007\r\necl:dne cid:322 pid:182cm iyr:2013 hgt:156in\r\nhcl:680e8c\n\nhgt:189cm hcl:#18171d\r\nbyr:1996 ecl:amb\r\neyr:2022 iyr:2020 pid:470853813\n\npid:785152983 iyr:2014 eyr:2028 hcl:#d50ced ecl:hzl byr:1998\n\necl:hzl byr:1945 hcl:#7d3b0c cid:164 hgt:187cm pid:414181589 iyr:2018\n\nbyr:1936\r\nhgt:183cm ecl:gry pid:376279728 hcl:#7d3b0c\r\neyr:2023 iyr:2012\n\nbyr:2000 hgt:157cm\r\necl:hzl\r\niyr:2020\r\npid:203994583\r\neyr:2023 hcl:#866857\n\neyr:1992 byr:2009\r\niyr:2029\r\nhcl:dc80b3 hgt:70cm ecl:grn pid:#65c31d\n\nhcl:#7d3b0c\r\nbyr:1945\r\nhgt:177cm\r\niyr:2013 eyr:2028 pid:038116668 cid:74 ecl:blu\n\npid:700997508 eyr:1970 ecl:zzz hcl:#888785 iyr:2013 byr:1986 cid:219 hgt:76cm\n\neyr:2025 hgt:161cm\r\niyr:2015 cid:188\r\nhcl:#fffffd\r\npid:840085402 ecl:gry byr:1988\n\npid:96550914 hcl:#481a3b byr:1997 ecl:#a57167\r\ncid:274 hgt:174cm\n\nhcl:#b6652a\r\necl:brn eyr:2029\r\nhgt:157cm iyr:2011 pid:910022061\r\nbyr:1947 cid:273\n\npid:010289131 eyr:2026\r\nbyr:1930\r\nhcl:#b6652a ecl:grn\r\ncid:220 hgt:187cm iyr:2013\n\nhcl:#6b5442 ecl:grt hgt:120\r\npid:454504291 eyr:1933 byr:2025 iyr:1930\n\niyr:2016\r\nhgt:180cm ecl:amb eyr:2028 cid:237\r\npid:334803890 byr:1953 hcl:#18171d\n\neyr:2020 byr:2002 hcl:#c54f21\r\niyr:2019 ecl:blu hgt:180cm cid:138\n\nbyr:1933\r\niyr:2020\r\necl:brn hgt:185cm\r\nhcl:#c0946f\r\neyr:2020 pid:050791974\n\nbyr:1933 ecl:brn hgt:186cm\r\npid:643899463 eyr:2030 iyr:2019\r\nhcl:#866857\n\niyr:2018 byr:1935 ecl:oth\r\neyr:2029\r\npid:732801213 hcl:#6b5442 hgt:169cm\n\neyr:2020\r\nhcl:z byr:1996\r\necl:#4102ee\r\npid:890541531 hgt:193cm iyr:2014\n\npid:618379341 ecl:gry hcl:#18171d byr:1991 eyr:2025 hgt:154cm iyr:2019\n\niyr:2013\r\npid:912066964 ecl:grn eyr:2040 hgt:192cm byr:1974\r\nhcl:#18171d\n\neyr:2025 cid:167 hgt:192cm\r\npid:678328147 ecl:gry\r\nhcl:#18171d iyr:2017\n\niyr:2011 byr:2021 hgt:189cm ecl:gmt hcl:z eyr:2035 pid:278839955\n\neyr:2030 hcl:#efcc98\r\necl:blu iyr:2011\r\npid:536958012 hgt:192cm byr:2002\n\npid:#1306f2 byr:1976\r\nhcl:#790688 hgt:158cm ecl:grn eyr:2024 iyr:2019\n\neyr:2030 hcl:#866857\r\ncid:50 ecl:oth pid:421235317\r\niyr:2014 hgt:60in\n\niyr:2020 byr:1971 cid:124\r\npid:319896110 ecl:oth hcl:#fffffd\n\ncid:143\r\neyr:2021 hgt:190cm pid:366021385 hcl:#18171d ecl:amb byr:1934\r\niyr:2016\n\nhgt:169cm hcl:#602927 pid:177cm\r\neyr:2022 byr:2020 ecl:#dd96f4 iyr:2014\n\neyr:2020 hgt:173cm pid:591592395 ecl:oth byr:1966\r\nhcl:#c0946f iyr:2020\n\npid:282088832 ecl:gmt\r\nhgt:167in byr:2016 hcl:z\r\niyr:2018\n\niyr:2016\r\nhgt:62in hcl:#c0946f\r\npid:306204399 eyr:2020 ecl:brn\r\nbyr:1999\n\neyr:1947 byr:1984 pid:595671246 hcl:3d50e7 ecl:xry iyr:1947\n\nhgt:187cm\r\neyr:2024 pid:477011496\r\nbyr:1971\r\nhcl:#733820\r\niyr:2010\r\necl:brn cid:165\n\nbyr:2023\r\npid:173cm\r\nhgt:193in eyr:2019 cid:102 ecl:grt hcl:#c0946f\n\npid:195062251\r\niyr:2027\r\ncid:138 byr:2021 ecl:brn eyr:2025 hgt:60in\n\nhgt:71cm hcl:z\r\necl:utc\r\neyr:2021 iyr:1925 pid:5469028726 byr:2017\n\nhcl:#b6652a hgt:168cm\r\nbyr:1960 ecl:grn\r\npid:653140418\r\niyr:2014 eyr:2023\n\npid:#afa892 cid:190 hcl:z\r\nhgt:189cm\r\neyr:2020 ecl:gry\r\nbyr:2003\r\niyr:1956\n\nhcl:e4cddf cid:185 pid:189cm hgt:175cm\r\nbyr:2016 iyr:2010 ecl:#fa945d eyr:1947\n\ncid:176\r\nhcl:7752f8 eyr:2039 byr:2019 ecl:hzl iyr:2029 hgt:185cm pid:636534364\n\ncid:170 ecl:gmt hcl:ef5177 byr:2021\r\neyr:1993\r\nhgt:71cm pid:2136295 iyr:2013\n\nbyr:2028 pid:156cm hcl:d74b86 cid:238\r\nhgt:89\r\niyr:1957 eyr:1937\n\neyr:2030 byr:1932 hcl:#c0946f cid:349\r\nhgt:177cm\r\necl:grn iyr:2016\n\nhcl:z byr:2003\r\necl:#9b98b2 hgt:81 pid:13338103 eyr:2040\n\niyr:2018 pid:801432704 hgt:73in byr:1964 cid:298 hcl:#fffffd ecl:amb eyr:2030\n\ncid:272\r\niyr:2019 pid:369160624 byr:1929 hgt:184cm eyr:2025 hcl:#ceb3a1 ecl:blu\n\nhcl:#7d3b0c pid:525287934\r\nbyr:1998 eyr:2027\r\niyr:2017 hgt:168cm ecl:gry\n\nbyr:1975 eyr:2027\r\necl:brn cid:125 hcl:4e319d\r\nhgt:172cm pid:308046532 iyr:2017\n\nhcl:b889c0 pid:6699675552 byr:2019 iyr:1968\r\necl:gmt\r\neyr:2003\r\nhgt:180in\n\nbyr:2025\r\necl:zzz hgt:162in hcl:z iyr:2002 pid:#87dca4 eyr:1951\n\neyr:2022\r\npid:549517742 ecl:hzl\r\niyr:2026\r\nbyr:2029 hgt:153cm hcl:2993de\n\neyr:2024\r\npid:755674604 iyr:2018 hcl:#c0946f\r\necl:gry byr:1966\r\nhgt:188cm\n\npid:665375893 iyr:2017\r\nbyr:1997\r\neyr:2029 hgt:173cm ecl:gry\n\nhcl:#6b5442 hgt:74cm ecl:#0dc7f6\r\npid:451038742 eyr:1982 byr:1939\r\niyr:1932\n\nhcl:#18171d\r\nbyr:1980 ecl:gry\r\niyr:2019 hgt:167cm\r\npid:326267989 eyr:2028\n\ncid:226 hgt:177cm ecl:hzl hcl:#a97842 eyr:2025\r\niyr:2013\r\nbyr:1949 pid:292166795\n\necl:oth pid:962521763\r\niyr:2013 cid:71 eyr:2022 hgt:193cm hcl:#18171d byr:1969\n\necl:grn iyr:2028 eyr:2024\r\nhgt:189cm hcl:z byr:1940 pid:032392876\n\niyr:2012 hgt:191cm cid:339 ecl:oth eyr:2028 pid:392810631 hcl:#b6652a byr:1959\n\niyr:2011 byr:1975\r\neyr:2027\r\nhcl:#18171d\r\nhgt:176cm\r\necl:gry pid:290432747\n\ncid:180 ecl:brn pid:210871734 eyr:2027\r\nbyr:1946 hcl:z hgt:185cm iyr:2011\n\nbyr:1924 ecl:grt\r\neyr:2028 hgt:187cm pid:#608f4f\n\neyr:2022 ecl:#a05063 byr:1926 hcl:#7d3b0c pid:3292990618 hgt:183in iyr:2021\n\necl:#a8b66c\r\niyr:1942 eyr:1960 hgt:60cm byr:2027 pid:#3b6f3f hcl:9fae56\n\nhgt:183cm\r\necl:oth hcl:#c0946f pid:816986054 eyr:2020 iyr:2014 byr:1935\n\nhgt:174 byr:2008\r\niyr:2029 hcl:9259e7 pid:85036214 ecl:gmt\n\ncid:85\r\npid:032040868\r\nbyr:2001 eyr:2027 hcl:#c0946f ecl:grn iyr:2020\r\nhgt:173cm\n\nhcl:#6b5442\r\ncid:308\r\necl:grt iyr:1939 byr:2009\r\npid:9365125584 eyr:2031 hgt:67cm\n\nhgt:154cm\r\nbyr:1936\r\neyr:2030 hcl:491c70 pid:391887956 iyr:2029 ecl:blu\n\nhcl:#866857\r\nhgt:161cm cid:76 pid:921202500 eyr:2021 ecl:brn byr:1968\n\niyr:2024 ecl:dne hcl:z pid:8054447805 hgt:154 eyr:2035 byr:2024\n\nhcl:#0a524b pid:667928918\r\neyr:2025\r\ncid:245 ecl:brn byr:1973 hgt:179cm\n\necl:gry hgt:68in pid:322837855 eyr:2023\r\ncid:323 byr:1944\r\niyr:2012\n\nbyr:1940\r\nhgt:178cm ecl:hzl hcl:#c0946f iyr:2030\r\neyr:2020 pid:788531859\n\ncid:253 iyr:2012 hgt:163cm\r\npid:554364568 eyr:2025 byr:1976 ecl:grn hcl:#888785\n\nhcl:#efcc98 iyr:2015 ecl:gry eyr:2029 pid:273847553 cid:274\r\nhgt:68in byr:1933\n\nhgt:165cm\r\npid:209462386 eyr:2024\r\nbyr:1969 hcl:#733820 ecl:grn\r\niyr:2020\n\nbyr:1975 hgt:187cm eyr:2027 iyr:2018 hcl:#c0946f ecl:hzl pid:141969110\n\nhcl:z pid:534439483 iyr:2022 ecl:grt eyr:2036 hgt:164in cid:324\r\nbyr:2025\n\nhcl:#74ca66\r\niyr:2011\r\npid:253012158\r\nhgt:188cm\r\ncid:246 ecl:oth eyr:2023\n\nbyr:2020 pid:56939101 hcl:9f5f65\r\neyr:1949\r\niyr:2021 hgt:155in\n\niyr:2020 hgt:174cm cid:304\r\nbyr:1944\r\neyr:2028 hcl:#733820\n\nhcl:#866857 ecl:gry eyr:2030 iyr:2014 hgt:63in byr:1997\r\npid:371522079\n\necl:amb\r\nbyr:1955 iyr:2013\r\nhcl:#888785 cid:265 eyr:2026 hgt:190cm pid:311393763\n\neyr:2026 iyr:2019\r\npid:721355771 byr:1947\r\nhcl:#733820\r\nhgt:71in ecl:gry\n\ncid:94 eyr:2024 byr:1938 pid:336868233 ecl:hzl\r\niyr:2012\r\nhgt:177cm hcl:#7d3b0c\n\necl:brn iyr:2010\r\neyr:2027\r\npid:379769214\r\ncid:111 byr:1960 hcl:#cfa07d hgt:169cm\n\nhgt:179cm\r\nhcl:3f59a6 eyr:2036 byr:2025 ecl:oth pid:217404607\r\niyr:2018\n\necl:amb pid:820370865 hgt:170cm iyr:2012 byr:1967 hcl:#efcc98 cid:309 eyr:2025\n\nbyr:1940\r\npid:008495978 ecl:gry hgt:159cm hcl:#602927 eyr:2024\n\nhgt:186cm\r\nbyr:1971 pid:556900517 cid:334 hcl:#efcc98 ecl:brn\r\niyr:2014\n\niyr:2020 byr:1928\r\ncid:200 hgt:193cm\r\necl:grn hcl:#7d3b0c\n\ncid:233\r\nhcl:a3046e pid:626863952 ecl:lzr iyr:2029 eyr:2024 byr:2000 hgt:193cm\n\ncid:244\r\nhcl:#866857 ecl:amb byr:1931\r\neyr:1928 pid:557376401 hgt:182cm iyr:2013";

function countValidPassports(docs, useRules = false) {
    let mandatoryKeys = ["byr", "iyr", "eyr", "hgt", "hcl", "ecl", "pid"];

    let validDocs = docs.filter(d => {
        let docKeysCount = Object.keys(d).length;
        let mandKeysCount = mandatoryKeys.length;
        return docKeysCount > mandKeysCount || (docKeysCount === mandKeysCount && d["cid"] === undefined);
    });
    
    if (!useRules) return validDocs.length;
    
    return Object.keys(validDocs).filter(k => {
        let dv = validDocs[k];
        let valid = true;

        if(dv["byr"] < 1920 || dv["byr"] > 2002) valid = false;
        if(dv["iyr"] < 2010 || dv["iyr"] > 2020) valid = false;
        if(dv["eyr"] < 2020 || dv["eyr"] > 2030) valid = false;
        if(/^\d+in$/.test(dv["hgt"])) {
            let height = dv["hgt"].match(/\d+/)[0];
            if(height < 59 || height > 76) valid = false;
        } else if(/^\d+cm$/.test(dv["hgt"])) {
            let height = dv["hgt"].match(/\d+/)[0];
            if(height < 150 || height > 193) valid = false;
        } else {
            valid = false;
        }
        if(!(/^#([a-fA-F0-9]{6})$/.test(dv["hcl"]))) valid = false;
        if(!(/^(amb|blu|brn|gry|grn|hzl|oth)$/.test(dv["ecl"]))) valid = false;
        if(!(/^[0-9]{9}$/.test(dv["pid"]))) valid = false;

        return valid;
    }).length
}

let docs = rawInput.split("\n\n").map(d => {
    let docProps = d.replace(/\r\n/gm, " ").split(" ");
    let a = {};
    docProps.forEach(dp => {
        let propSplit = dp.split(":");
        a[propSplit[0]] = propSplit[1];
    });
    return a;
});

console.log("In your batch file, how many passports are valid? \nA: ", 
    countValidPassports(docs)
);
console.log("Count the number of valid passports - those that have all required fields and valid values. Continue to treat cid as optional. In your batch file, how many passports are valid? \nA: ",
    countValidPassports(docs, true)
);